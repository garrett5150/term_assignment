var MongoClient = require('mongodb').MongoClient

var assert = require('assert')

var url='mongodb://ggadmin:password@52.88.18.79:27017/gg_db';
var dbConnection;
module.exports = {

  connect: function (){

    MongoClient.connect(url, function(err,db) {

      console.log(err);
      assert.equal(null, err);
      console.log("Connected Successfully");



      // var user = {userID:"1",name:"Student 1",isStudent:"true", isTeacher:"false",pwd:"password"};
      // var course = {couseID:"1", teacherID:"1", course_Name:"Web 3", userID:"1"};
      // var user_course = {studentID:"1", courseID:"1", userID:"1"};
      // var assignment = {assignmentID:"1", courseID:"1",teacherID:"1", weight:"25",value:"25",name:"assignment 1", description:"none"};
      // var user_assignment = {studentID:"1",assignmentID:"1",progess:"50",mark:"50",userID:"1"};
      //
      // db.collection('user').insert(user, function(err, records) {
      //   assert.equal(null,err);
      //   console.log(records);
      //   console.log("Recorded added as ");
      // });
      //
      // db.collection('course').insert(course, function(err, records) {
      //   assert.equal(null,err);
      //   console.log(records);
      //   console.log("Recorded added as ");
      // });
      //
      // db.collection('user_course').insert(user_course, function(err, records) {
      //   assert.equal(null,err);
      //   console.log(records);
      //   console.log("Recorded added as ");
      // });
      //
      // db.collection('assignment').insert(assignment, function(err, records) {
      //   assert.equal(null,err);
      //   console.log(records);
      //   console.log("Recorded added as ");
      // });
      //
      // db.collection('user_assignment').insert(user_assignment, function(err, records) {
      //   assert.equal(null,err);
      //   console.log(records);
      //   console.log("Recorded added as ");
      // });

      dbConnection = db;

    });

  },
  getDB: function() {
    return dbConnection;
  }
};
