<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/iron-ajax/iron-request.html">
<link rel="import" href="bower_components/iron-ajax/iron-ajax.html">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<dom-module id="gpa-planner">
  <template>
        <div id="all">

        </div>
        <iron-ajax
            id="ajax"
            url=""
            method="post"
            on-response="postComplete">
        </iron-ajax>


  </template>
  <script>
  Polymer({
    is: 'gpa-planner',
    ready:function(){
      //alert('hello');
      this.$.ajax.url="/getProgress";
      this.$.ajax.generateRequest();
    },
    postComplete: function(request){
      var assignments = request.detail.response;
      var assignList = $('<table><th>Name</th><th>Description</th><th>Value</th><th>Course Name</th></table>');
      $.each(assignments, function(i,item){
        var row = $('<tr><td>' + item.name +'</td><td>' + item.description +'</td><td>' + item.value + '</td><td>' + item.course_Name+'</td></tr>');
        assignList.append(row);

      });
      $('#all').append(assignList);

    }
    });
  </script>
</dom-module>
