<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <!-- Bootstrap theme -->
    <!--Link to our specific bootstrap theme -> https://bootswatch.com/solar/ -->
    <link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <script src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>

    <script>
        $(document).ready(function () {

            $('#course-btn').on('click', function () {
                $('#contentArea').empty();
                var courseList = $('<table><th>Course Name</th></table>');
                $.post('/listCourses', function (data) {

                    $.each(data, function (i, item) {
                        var course = $('<tr><td>' + item.course + '</td></tr>');
                        courseList.append(course);
                        $('#contentArea').append(courseList);
                    });

                });
            });

            $('#add-btn').on('click', function () {
                $('#contentArea').empty();
                var courseList = $('<table><th>Course Name</th></table>');
                $.post('/listCourses', function (data) {

                    $.each(data, function (i, item) {
                        var course = $('<tr><td>' + item.course + '</td></tr>');
                        courseList.append(course);
                        $('#contentArea').append(courseList);
                    });

                });
                var courseInfo = $('<input type="text" id="course-name"/><input type="submit" value="Submit" id="submit-course"/>');
                $('#contentArea').append(courseInfo);

                $('#submit-course').on('click', function () {
                    location.reload();
                    var courseName = $('#course-name').val();
                    $.post('/addCourse', {'courseName': courseName}, function (data) {

                    });
                });
            });

            $('#rem-btn').on('click', function () {


                $('#contentArea').empty();
                var courseList = $('<table><th>Course Name</th></table>');
                $.post('/listCourses', function (data) {

                    $.each(data, function (i, item) {
                        var course = $('<tr><td class="name">' + item.course + '</td> <td><input type="button" value="Remove" class="rem-course"/></td> </tr>');
                        courseList.append(course);
                        $('#contentArea').append(courseList);
                    });

                    $('.rem-course').on('click', function () {
                        location.reload();
                        var row = $(this).closest('tr');
                        var toRemove = row.find('.name').html();
                        $.post('/removeCourse', {'courseName': toRemove}, function (data) {

                        });
                    });
                });

            });

        });
    </script>


</head>

<body>


<!--TODO Header bar....might need to convert a links to buttons and apply JS to them -->
<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Brand</a>
        </div>

        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#">Home <span class="sr-only">(current)</span></a></li>
                <li><a href="#">GPA Planner</a></li>
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Classes
                        <span class="caret"></span></a>
                    <ul class="dropdown-menu" role="menu">
                        <li><a href="#">COMP4553</a></li>
                        <li><a href="#">COMP3553</a></li>
                        <li><a href="#">COMP3531</a></li>
                        <li><a href="#">INBU2201</a></li>
                        <li><a href="#">COMP4545</a></li>
                        <!--<li class="divider"></li>-->

                    </ul>
                </li>
                <li><a href="#">Reports</a></li>
            </ul>
            <form class="navbar-form navbar-right" role="search">
                <div class="form-group">
                    <input type="text" class="form-control" placeholder="Search Coming Soon">
                </div>
                <button type="submit" class="btn btn-default" disabled>Submit</button>
            </form>
        </div>
    </div>
</nav>
<!-- End Header -->


<div class="row">
    <div class="col-md-2">
        <div class="panel panel-default">
            <div class="panel-body">
                School Year Report
            </div>
            <div class="panel-body">
                Drop Trend
            </div>
            <!--<div class="panel-footer">Panel footer</div>-->
        </div>
        <div class="panel panel-default">
            <div class="panel-heading">Class Reports</div>
            <div class="panel-body">
                COMP4553
            </div>
            <div class="panel-body">
                COMP3553
            </div>
            <div class="panel-body">
                COMP3531
            </div>
            <div class="panel-body">
                INBU2201
            </div>
            <div class="panel-body">
                COMP4545
            </div>
        </div>

        <div class="panel panel-default">
            <div class="panel-heading">Student Reports</div>
            <div class="panel-body">
                Winter 2017
            </div>
            <div class="panel-body">
                Fall 2016
            </div>
            <div class="panel-body">
                Winter 2016
            </div>
            <div class="panel-body">
                Fall 2015
            </div>
            <div class="panel-body">
                Winter 2015
            </div>
        </div>
    </div>

    <div class="MainContent">
        <div class="col-md-8">

            <input class="btn btn-default" type="button" value="Courses" id="course-btn"/>
            <input class="btn btn-default" type="button" value="Add Course" id="add-btn"/>
            <input class="btn btn-default" type="button" value="Remove Course" id="rem-btn"/>
            <div id="contentArea"></div>

        </div>
        <div class="col-md-2">
            Hot Local Singles near you! Visit us at www.wwwwwwwwww.ca,
        </div>
    </div>
</div>


</body>
</html>
